<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 
    - primary meta tags
  -->
  <title>Wren - Perosonal Blog Website</title>
  <meta name="title" content="Wren - Perosonal Blog Website">
  <meta name="description" content="This is a blog html template made by codewithsadee">

  <!-- 
    - favicon
  -->
  <!-- <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml"> -->

  <!-- 
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">

  <!-- 
    - custom css link
  -->
  <link rel="stylesheet" href="./assets/css/style.css">

  <!-- 
    - preload images
  -->
  <link rel="preload" as="image" href="./assets/images/hero-banner.png">
  <link rel="preload" as="image" href="./assets/images/pattern-2.svg">
  <link rel="preload" as="image" href="./assets/images/pattern-3.svg">

</head>

<body id="top">

  <!-- 
    - #HEADER
  -->

  <header class="header" data-header>
    <div class="container">

      <a href="#" class="logo">
        <h4 class="pageTitle">
          Users
        </h4>
        <!-- <img src="./assets/images/logo.svg" width="119" height="37" alt="Wren logo"> -->
      </a>

      <nav class="navbar" data-navbar>

        <div class="navbar-top">
          <a href="#" class="logo">
            <img src="./assets/images/logo.svg" width="119" height="37" alt="Wren logo">
          </a>

          <button class="nav-close-btn" aria-label="close menu" data-nav-toggler>
            <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
          </button>
        </div>

        <ul class="navbar-list">

          <li>
            <a href="/index" class="navbar-link hover-1" data-nav-toggler>Home</a>
          </li>

          <li>
            <a href="/gallery" class="navbar-link hover-1" data-nav-toggler>Gallery</a>
          </li>

          <li>
            <a href="/users" class="navbar-link hover-1" data-nav-toggler>Users</a>
          </li>

          <li>
            <a href="/aboutus" class="navbar-link hover-1" data-nav-toggler>About Us</a>
          </li>

          <li>
            <a href="/contactus" class="navbar-link hover-1" data-nav-toggler>Contact Us</a>
          </li>

          <li>
            <a href="/" class="navbar-link hover-1" data-nav-toggler>Logout</a>
          </li>

        </ul>

      </nav>

    </div>
  </header>





  <main>
    <article>

      <!-- 
        - #HERO
      -->

      <section class="hero" id="home" aria-label="home">
        <div class="container">

          <div class="hero-content">

            <p class="hero-subtitle">Presenting to you !</p>


            <h1 class="headline headline-1 section-title">
              Our <span class="span">Users</span>
            </h1>

            <p class="hero-text">
              Welcome to our user details page, where you can unlock the full potential of your data. Our intuitive
              platform allows you to easily visualize and analyze your information, giving you deep insights and
              enabling
              smarter decision-making.
            </p>

            <div class="input-wrapper">

              <input type="email" name="email_address" placeholder="Search by Username" required class="input-field"
                autocomplete="off">

              <button class="btn btn-primary">
                <span class="span">Search</span>

                <ion-icon name="arrow-forward-outline" aria-hidden="true"></ion-icon>
              </button>

            </div>

          </div>

          <div class="hero-banner">

            <!-- <img src="./assets/images/hero-banner.png" width="327" height="490" alt="Wren Clark" class="w-100"> -->

            <img src="./assets/images/pattern-2.svg" width="27" height="26" alt="shape" class="shape shape-1">

            <img src="./assets/images/pattern-3.svg" width="27" height="26" alt="shape" class="shape shape-2">

          </div>

          <img src="./assets/images/shadow-1.svg" width="500" height="800" alt="" class="hero-bg hero-bg-1">

          <img src="./assets/images/shadow-2.svg" width="500" height="500" alt="" class="hero-bg hero-bg-2">

        </div>
      </section>





      <!-- 
        - #TOPICS
      -->

      <section class="topics" id="topics" aria-labelledby="topic-label">
        <div class="container">

          <div class="card topic-card">

            <div class="card-content">
              <button class="btn btn-primary" id="dataBtn" onclick="fetchData()">
                <span class="span">Fetch Data</span>
              
                <ion-icon name="arrow-forward-outline" aria-hidden="true"></ion-icon>
              </button>
              <h2 class="headline headline-2 section-title card-title" id="topic-label">
                All Users
              </h2>

              <p class="card-text">
                Visualize and analyze your information like
                never before...
              </p>

              <div class="btn-group">
                <button class="btn-icon" aria-label="previous" data-slider-prev>
                  <ion-icon name="arrow-back" aria-hidden="true"></ion-icon>
                </button>

                <button class="btn-icon" aria-label="next" data-slider-next>
                  <ion-icon name="arrow-forward" aria-hidden="true"></ion-icon>
                </button>
              </div>

            </div>

            <div class="slider" data-slider id="slider">
              <ul class="slider-list" data-slider-container id="listAll">

                

              </ul>
            </div>

          </div>

        </div>
      </section>









  <!-- 
    - #BACK TO TOP
  -->

  <a href="#top" class="back-top-btn" aria-label="back to top" data-back-top-btn>
    <ion-icon name="arrow-up-outline" aria-hidden="true"></ion-icon>
  </a>





  <!-- 
    - custom js link
  -->

  <!-- 
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <script>
    function fetchData(){
      const users = fetch("/get/users")
      users
        .then((res) => {
          return res.json();
        })
        .then((data) => {
          console.log(data);
          showData(data);
        })
    }
    function showData(data){

      const list = document.getElementById('listAll');


      for(let i=0;i<data.length;i++){
        const li = document.createElement('li');
        li.setAttribute("class", "slider-item")
        const a = document.createElement('a');
        a.setAttribute("class", "slider-card");
        a.setAttribute("href", "#");
        const figure = document.createElement('figure');
        figure.setAttribute("class", "img-holder");
        const div = document.createElement('div');
        div.setAttribute("class", "myData");

        const span = document.createElement('span');
        span.setAttribute("class", "slider-title");
        span.style.color="#0bc6d6"
        span.innerHTML = data[i].userName;
        const email = document.createElement('p');
        email.innerHTML="Email Id :"
        email.style.color="white";
        email.style.fontSize="20px";
        const p1 = document.createElement('p');
        p1.setAttribute("class", "slider-subtitle");
        p1.innerHTML = data[i].emailId;
        const pass = document.createElement('p');
        pass.innerHTML = "Password :"
        pass.style.color = "white";
        pass.style.fontSize = "20px";
        const p2 = document.createElement('p');
        p2.setAttribute("class", "slider-subtitle");
        p2.innerHTML = data[i].password;
        const animal = document.createElement('p');
        animal.innerHTML = "Favourite Animal :"
        animal.style.color = "white";
        animal.style.fontSize = "20px";
        const p3 = document.createElement('p');
        p3.setAttribute("class", "slider-subtitle");
        p3.innerHTML = data[i].fav_animal;

        div.appendChild(span);
        div.appendChild(email)
        div.appendChild(p1);
        div.appendChild(pass)
        div.appendChild(p2);
        div.appendChild(animal)
        div.appendChild(p3);

        figure.appendChild(div);

        a.appendChild(figure);

        li.appendChild(a);

        list.appendChild(li);
      }


      'use strict';



      /**
       * Add event listener on multiple elements
       */

      const addEventOnElements = function (elements, eventType, callback) {
        for (let i = 0, len = elements.length; i < len; i++) {
          elements[i].addEventListener(eventType, callback);
        }
      }



      /**
       * MOBILE NAVBAR TOGGLER
       */

      const navbar = document.querySelector("[data-navbar]");
      const navTogglers = document.querySelectorAll("[data-nav-toggler]");

      const toggleNav = () => {
        navbar.classList.toggle("active");
        document.body.classList.toggle("nav-active");
      }

      addEventOnElements(navTogglers, "click", toggleNav);



      /**
       * HEADER ANIMATION
       * When scrolled donw to 100px header will be active
       */

      const header = document.querySelector("[data-header]");
      const backTopBtn = document.querySelector("[data-back-top-btn]");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 100) {
          header.classList.add("active");
          backTopBtn.classList.add("active");
        } else {
          header.classList.remove("active");
          backTopBtn.classList.remove("active");
        }
      });



      /**
       * SLIDER
       */

      const slider = document.querySelector("[data-slider]");
      const sliderContainer = document.querySelector("[data-slider-container]");
      const sliderPrevBtn = document.querySelector("[data-slider-prev]");
      const sliderNextBtn = document.querySelector("[data-slider-next]");

      let totalSliderVisibleItems = Number(getComputedStyle(slider).getPropertyValue("--slider-items"));
      let totalSlidableItems = sliderContainer.childElementCount - totalSliderVisibleItems;

      let currentSlidePos = 0;

      const moveSliderItem = function () {
        sliderContainer.style.transform = `translateX(-${sliderContainer.children[currentSlidePos].offsetLeft}px)`;
      }

      /**
       * NEXT SLIDE
       */

      const slideNext = function () {
        const slideEnd = currentSlidePos >= totalSlidableItems;

        if (slideEnd) {
          currentSlidePos = 0;
        } else {
          currentSlidePos++;
        }

        moveSliderItem();
      }

      sliderNextBtn.addEventListener("click", slideNext);

      /**
       * PREVIOUS SLIDE
       */

      const slidePrev = function () {
        if (currentSlidePos <= 0) {
          currentSlidePos = totalSlidableItems;
        } else {
          currentSlidePos--;
        }

        moveSliderItem();
      }

      sliderPrevBtn.addEventListener("click", slidePrev);

      /**
       * RESPONSIVE
       */
      window.addEventListener("resize", function () {
        totalSliderVisibleItems = Number(getComputedStyle(slider).getPropertyValue("--slider-items"));
        totalSlidableItems = sliderContainer.childElementCount - totalSliderVisibleItems;

        moveSliderItem();
      });
    }
  </script>

  


</body>

</html>